# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory to change to before starting a build.
  # This is where we will look for package.json/.nvmrc/etc.
  base = "./"

  # Directory (relative to root of your repo) that contains the deploy-ready
  # HTML files and assets generated by the build. If a base directory has
  # been specified, include it in the publish directory path.
  publish = "./dist"

  # Default build command.
  command = "npm run build"

[build.environment]
  YARN_VERSION = "1.17.3"

[[redirects]]
  from = "/api/*"
  to = "https://us-central1-zero-width-shortener.cloudfunctions.net/:splat"
  status = 200

[[redirects]]
  from = "/*/stats"
  to = "https://us-central1-zero-width-shortener.cloudfunctions.net/getURLStats/:splat"
  status = 302

[[redirects]]
  from = "/*"
  to = "https://us-central1-zero-width-shortener.cloudfunctions.net/getURL/:splat"
  status = 302

